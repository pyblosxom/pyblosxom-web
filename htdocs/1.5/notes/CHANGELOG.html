<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Changelog &mdash; PyBlosxom v1.5 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.5',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PyBlosxom v1.5 documentation" href="../index.html" />
    <link rel="next" title="Installing PyBlosxom" href="INSTALL.html" />
    <link rel="prev" title="About PyBlosxom" href="../about_pyblosxom.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="INSTALL.html" title="Installing PyBlosxom"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../about_pyblosxom.html" title="About PyBlosxom"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">PyBlosxom v1.5 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="changes-between-1-4-3-and-1-5">
<span id="id1"></span><h2>Changes between 1.4.3 and 1.5<a class="headerlink" href="#changes-between-1-4-3-and-1-5" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pertinent-to-users">
<h3>Pertinent to users:<a class="headerlink" href="#pertinent-to-users" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Renamed <tt class="docutils literal"><span class="pre">pyblcmd</span></tt> to <tt class="docutils literal"><span class="pre">pyblosxom-cmd</span></tt>.</p>
</li>
<li><p class="first">PyBlosxom now requires Python 2.3.  We&#8217;ve removed the _logging
module that provided logging facilities to pre-Python 2.3 versions.</p>
</li>
<li><p class="first">To install PyBlosxom on your system, you will now need setuptools.</p>
</li>
<li><p class="first">The <tt class="docutils literal"><span class="pre">pyblosxom.cgi</span></tt> file has changed significantly&#8211;if you&#8217;re
using it you should grab the new one that comes with this
distribution.  We&#8217;ve gutted the <tt class="docutils literal"><span class="pre">pyblosxom.cgi</span></tt> script and turned
it into a stub.  This will reduce the need for you to update your
<tt class="docutils literal"><span class="pre">pyblosxom.cgi</span></tt> in the future when you upgrade PyBlosxom.</p>
</li>
<li><p class="first">pyblosxom-cmd now has an option to create the blog directory
structure and skeleton files for you.  This makes it much faster to
get a new blog up and running.  Syntax is this:</p>
<div class="highlight-python"><pre>pyblosxom-cmd create &lt;path&gt;</pre>
</div>
<p>Some examples:</p>
<div class="highlight-python"><pre>pyblosxom-cmd create .
pyblosxom-cmd create /home/joe/blog</pre>
</div>
</li>
<li><p class="first">Template variable syntax <tt class="docutils literal"><span class="pre">$id_escaped</span></tt> and <tt class="docutils literal"><span class="pre">$id_urlencoded</span></tt> has
been removed.  Use <tt class="docutils literal"><span class="pre">$escape(id)</span></tt> and <tt class="docutils literal"><span class="pre">$urlencode(id)</span></tt> instead.</p>
</li>
<li><p class="first">Switched to using Python&#8217;s optparse module instead of our
home-brewed one.  There are some changes in command line syntax.
Do <tt class="docutils literal"><span class="pre">pyblosxom-cmd</span> <span class="pre">--help</span></tt> for command line help.</p>
</li>
<li><p class="first">Changed around <tt class="docutils literal"><span class="pre">INSTALL</span></tt>, <tt class="docutils literal"><span class="pre">README</span></tt> and added <tt class="docutils literal"><span class="pre">UPGRADE</span></tt>.</p>
</li>
<li><p class="first">Removed <tt class="docutils literal"><span class="pre">blog_title_with_path</span></tt> variable.  If you were using this
variable in your templates, replace it.  i.e. instead of:</p>
<div class="highlight-python"><pre>$blog_title_with_path</pre>
</div>
<p>do:</p>
<div class="highlight-python"><pre>$blog_title : $pi_bl</pre>
</div>
</li>
<li><p class="first">Re-worked PyBlosxom so that it uses the same encoding throughout.
This means you need to use the same encoding for all your data
files and that encoding has to match the <tt class="docutils literal"><span class="pre">blog_encoding</span></tt>
property in <tt class="docutils literal"><span class="pre">config.py</span></tt>.  This defaults to UTF-8.</p>
</li>
<li><p class="first">Re-worked documentation to use Sphinx.  The end result is that the
&#8220;source&#8221; for the docs is in <tt class="docutils literal"><span class="pre">docs/source/</span></tt>, there&#8217;s an HTML
version that&#8217;s built by Sphinx in <tt class="docutils literal"><span class="pre">docs/build/html/</span></tt>, and it&#8217;s a
lot easier to read and use now.  Thank you to the Sphinx team!</p>
</li>
<li><p class="first">Reworked the command line for static rendering.  It now works like
this:</p>
<div class="highlight-python"><pre>pyblosxom-cmd staticrender \
              [--config &lt;path/to/config/file&gt;] \
              [--incremenal]</pre>
</div>
<p>If the <tt class="docutils literal"><span class="pre">config.py</span></tt> file is in your <tt class="docutils literal"><span class="pre">PYTHONPATH</span></tt>, then you can
skip the <tt class="docutils literal"><span class="pre">--config</span> <span class="pre">&lt;path/to/config/file&gt;</span></tt> stuff.</p>
</li>
<li><p class="first">Removed portalocker code.  This will cause any plugins using the
locking code to fail.  The only one I saw like this was the
logstats plugin which had a lot of other problems.</p>
</li>
<li><p class="first">Added a <tt class="docutils literal"><span class="pre">--silent</span></tt> flag to pyblcmd so that it quells all stdout.
This is useful for cron jobs.</p>
</li>
<li><p class="first">Added <tt class="docutils literal"><span class="pre">truncate_date</span></tt> config variable.  When set to True, it
causes date-based archives to be truncated to <tt class="docutils literal"><span class="pre">num_entries</span></tt> entries.
Defaults to False.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">py</span><span class="p">[</span><span class="s">&quot;truncate_date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
</li>
<li><p class="first">Added <tt class="docutils literal"><span class="pre">truncate_category</span></tt> config variable.  When set to True, it
causes category-based archives to be truncated to <tt class="docutils literal"><span class="pre">num_entries</span></tt>
entries.  Defaults to True.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">py</span><span class="p">[</span><span class="s">&quot;truncate_category&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
</li>
<li><p class="first">Added <tt class="docutils literal"><span class="pre">truncate_frontpage</span></tt> config variable.  When set to True, it
causes the front page <tt class="docutils literal"><span class="pre">num_entries</span></tt> entries.  Defaults to True.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">py</span><span class="p">[</span><span class="s">&quot;truncate_frontpage&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
</li>
<li><p class="first">Plugins are included in the PyBlosxom source tarball again.</p>
</li>
<li><p class="first">Templates in a flavourdir directory no longer require the flavour
as the file extension.  e.g. This will work fine:</p>
<div class="highlight-python"><pre>blog/
 |- flavourdir/
     |- html.flav/
         |- content_type
         |- head
         |- story
         |- ...</pre>
</div>
</li>
</ol>
</div>
<div class="section" id="pertinent-to-developers">
<h3>Pertinent to developers:<a class="headerlink" href="#pertinent-to-developers" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first"><tt class="docutils literal"><span class="pre">Pyblosxom.tools.VariableDict</span></tt> is no more.</p>
</li>
<li><p class="first">If you have template variables that end in <tt class="docutils literal"><span class="pre">_urlencoded</span></tt> and
<tt class="docutils literal"><span class="pre">_escaped</span></tt>, it&#8217;s better to instead call
<tt class="docutils literal"><span class="pre">tools.escape_text(...)</span></tt> and <tt class="docutils literal"><span class="pre">tools.urlencode_text(...)</span></tt> or use
filter functions <tt class="docutils literal"><span class="pre">$escape(var)</span></tt> and <tt class="docutils literal"><span class="pre">$urlencode(var)</span></tt>.</p>
</li>
<li><p class="first">The blosxom renderer has undergone a bunch of fixes.  If you
depended on functions that started with <tt class="docutils literal"><span class="pre">_</span></tt>, then you&#8217;ll probably
need to rework your plugin.  These functions were not intended for
outside use.</p>
<p>Additionally, we fixed the bug where the renderer was adding the
contents of the config and data dicts to each entry when it was
rendered as a story.  Now the items in the entrylist are untouched
during rendering.</p>
</li>
<li><p class="first">Added a lot of tests and rewrote everything to ditch the nose
requirement.  Tests can be run with:</p>
<div class="highlight-python"><pre>python setup.py test</pre>
</div>
</li>
<li><p class="first">Added a lot of documentation.</p>
</li>
<li><p class="first">Plugins can now do command-line things.  See the <tt class="docutils literal"><span class="pre">commandline</span></tt>
callback in the documentation.</p>
</li>
<li><p class="first">Removed the portalocker code so PyBlosxom no longer provides a way
to lock/unlock text files.</p>
</li>
<li><p class="first">Changed a lot of camel-case function/method names to PEP-8
versions.  Camel case names are deprecated and will be removed in a
future version:</p>
<p><tt class="docutils literal"><span class="pre">tools.py</span></tt>:</p>
<ul class="simple">
<li>Walk -&gt; walk</li>
<li>getLogger -&gt; get_logger</li>
<li>generateRandStr -&gt; generate_rand_str</li>
</ul>
<p><tt class="docutils literal"><span class="pre">pyblosxom/Pyblosxom.py</span></tt>:</p>
<ul class="simple">
<li>PyBlosxom: getRequest -&gt; get_request</li>
<li>PyBlosxom: getResponse -&gt; get_response</li>
<li>PyBlosxom: runCallback -&gt; run_callback</li>
<li>PyBlosxom: runRenderOne -&gt; run_render_one</li>
<li>PyBlosxom: runStaticRenderer removed</li>
<li>Request: setResponse -&gt; set_response</li>
<li>Request: getResponse -&gt; get_response</li>
<li>Request: getForm -&gt; get_form</li>
<li>Request: getConfiguration -&gt; get_configuration</li>
<li>Request: getHttp -&gt; get_http</li>
<li>Request: getData -&gt; get_data</li>
<li>Request: addHttp -&gt; add_http</li>
<li>Request: addData -&gt; add_data</li>
<li>Request: addConfiguration -&gt; add_configuration</li>
<li>Response: setStatus -&gt; set_status</li>
<li>Response: addHeader -&gt; add_header</li>
<li>Response: getHeaders -&gt; get_headers</li>
<li>Response: sendBody -&gt; send_body</li>
<li>Response: sendHeaders -&gt; send_headers</li>
</ul>
<p><tt class="docutils literal"><span class="pre">pyblosxom/renderers/base.py</span></tt>:</p>
<ul class="simple">
<li>RendererBase: addHeader -&gt; add_header</li>
<li>RendererBase: setContent -&gt; set_content</li>
<li>RendererBase: needsContentType -&gt; needs_content_type</li>
<li>RendererBase: showHeaders -&gt; show_headers</li>
</ul>
<p><tt class="docutils literal"><span class="pre">pyblosxom/renderers/blosxom.py</span></tt>:</p>
<ul class="simple">
<li>BlosxomRenderer: renderContent -&gt; render_content</li>
<li>BlosxomRenderer: renderTemplate -&gt; render_template</li>
<li>BlosxomRenderer: getContent -&gt; get_content</li>
<li>BlosxomRenderer: outputTemplate -&gt; output_template</li>
</ul>
</li>
<li><p class="first">Changed <tt class="docutils literal"><span class="pre">add_header</span></tt> in the <tt class="docutils literal"><span class="pre">Response</span></tt> class to take a key and
value instead of a list of strings that it has to use * magic and
then munge through.</p>
</li>
<li><p class="first">Added a commandline callback for allowing plugins to add to the
command line.</p>
</li>
<li><p class="first">Added a truncatelist callback allowing plugins to augment the
truncate (<tt class="docutils literal"><span class="pre">num_entries</span></tt>) behavior.</p>
</li>
<li><p class="first">Added a sortlist callback allowing plugins to augment entrylist sorting
behavior.</p>
</li>
</ol>
</div>
</div>
<div class="section" id="changes-between-1-4-2-and-1-4-3">
<h2>Changes between 1.4.2 and 1.4.3<a class="headerlink" href="#changes-between-1-4-2-and-1-4-3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3>Pertinent to users:<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Adjusted the code that parses blog.ini values so that it can take
values like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">foo</span> <span class="o">=</span> <span class="s">&#39;a&#39;</span>                 <span class="c"># string</span>
<span class="n">foo</span> <span class="o">=</span> <span class="s">&quot;a&quot;</span>                 <span class="c"># string</span>
<span class="n">foo</span> <span class="o">=</span> <span class="mf">23</span>                  <span class="c"># integer</span>
<span class="n">foo</span> <span class="o">=</span> <span class="p">[</span> <span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="mf">23</span><span class="p">,</span> <span class="s">&quot;b&quot;</span> <span class="p">]</span>    <span class="c"># list of strings and integers</span>
</pre></div>
</div>
<p>as well as:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">foo</span> <span class="o">=</span> <span class="n">a</span>                   <span class="c"># string</span>
</pre></div>
</div>
<p>Note: if you want the string &#8220;23&#8221;, then you MUST enclose it in
quotes, otherwise it will be parsed as an integer.</p>
<p>blog.ini is used when you set up PyBlosxom using Paste.</p>
</li>
<li><p class="first">Fixed PyBlosxomWSGIApp so that it&#8217;s WSGI compliant as an
application.  Thanks Michael!</p>
</li>
<li><p class="first">Template variables can be parenthesized.  Examples:</p>
<div class="highlight-python"><pre>$foo                      - variable is "foo"
$(foo)                    - variable is "foo"
$(url)index.atom          - variable is "url"</pre>
</div>
<p>This reduces ambiguity which was causing problems with recognition
of variables.</p>
</li>
</ol>
</div>
<div class="section" id="id3">
<h3>Pertinent to developers:<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Fixed tools.importname&#8211;it now logs errors to the logger.</li>
<li>Fixed PyBlosxomWSGIApp so that it&#8217;s WSGI compliant as an
application.  Thanks Michael!</li>
<li>Added more unit tests and corrected more behavior.  Details on
running unit tests are in the REDAME.</li>
</ol>
</div>
</div>
<div class="section" id="changes-between-1-4-1-and-1-4-2">
<h2>Changes between 1.4.1 and 1.4.2<a class="headerlink" href="#changes-between-1-4-1-and-1-4-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id4">
<h3>Pertinent to users:<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Fixed another bug with the WSGI application creation code.  (Thanks
Christine!)</li>
<li>Added instructions for installing PyBlosxom with mod_wsgi to
<tt class="docutils literal"><span class="pre">install_wsgi.txt</span></tt>.  This includes a basic wsgi script for
PyBlosxom.  (Thanks Christine!)</li>
<li>Fixed up the Python Paste installation document.  (Thanks Liz!)</li>
<li>Fixed the <tt class="docutils literal"><span class="pre">month2num</span></tt> code in tools so that PyBlosxom runs on
Windows (Windows doesn&#8217;t have <tt class="docutils literal"><span class="pre">nl_langinfo</span></tt> in the <tt class="docutils literal"><span class="pre">locale</span></tt>
module).  (Thanks Liz!)</li>
</ol>
</div>
</div>
<div class="section" id="changes-between-1-4-and-1-4-1">
<h2>Changes between 1.4 and 1.4.1<a class="headerlink" href="#changes-between-1-4-and-1-4-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id5">
<h3>Pertinent to users:<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Fixed a problem where running PyBlosxom under Paste won&#8217;t pick up
the <tt class="docutils literal"><span class="pre">config.py</span></tt> file.  Be sure to add a <tt class="docutils literal"><span class="pre">configpydir</span></tt> property
to your <tt class="docutils literal"><span class="pre">blog.ini</span></tt> file which points to the directory your
<tt class="docutils literal"><span class="pre">config.py</span></tt> file is in.</li>
<li>Fixed a problem where running PyBlosxom in Python 2.5 won&#8217;t pick up
the <tt class="docutils literal"><span class="pre">config.py</span></tt> file.</li>
<li>Merged Ryan&#8217;s optimization to Walk (removes an os.listdir call).</li>
<li>Updated documentation.</li>
</ol>
</div>
</div>
<div class="section" id="changes-between-1-3-2-and-1-4">
<h2>Changes between 1.3.2 and 1.4<a class="headerlink" href="#changes-between-1-3-2-and-1-4" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id6">
<h3>Pertinent to users:<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Added a pyblcmd command line program for PyBlosxom command line
things.  This now handles static rendering, rendering a single url
to stdout, testing your blog setup, ...</li>
<li>The Atom story template now has a $default_flavour bit in the link.
Bug 1667937.  (Thanks Michael!)</li>
<li>PyBlosxom is now locale aware in respects to dates, months, days of
the week and such.  Users should set the locale config property to
a valid locale if they don&#8217;t want English.</li>
<li>Added a <tt class="docutils literal"><span class="pre">blog_icbm</span></tt> config variable for use in the ICBM meta tag.
See config_variables.txt for more information.</li>
<li>Changed the <tt class="docutils literal"><span class="pre">num_entries</span></tt> property in config.py from 40 to a much
more conservative 5.  Also changed the default value from 0 to 5 if
you happened not to set <tt class="docutils literal"><span class="pre">num_entries</span></tt> at all.
<a class="reference external" href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=373658">http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=373658</a> (Thanks
Jon!)</li>
<li>Changed the self link in the atom feed to be of type
application/atom+xml.
<a class="reference external" href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=403008">http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=403008</a> (Thanks
Brian!)</li>
<li>Added DOCUMENT_ROOT to the python path per Martin&#8217;s suggestion.
<a class="reference external" href="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=367127">http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=367127</a> (Thanks
Martin!)</li>
<li>Translated all documentation from Docbook to reST.  reST
documentation is easier to read in &#8220;source-form&#8221; and a lot easier
to convert to HTML and other formats using the Python docutils
tools.  (Thanks John!)</li>
<li>Added support for Paste and brought the WSGI support into the
codebase.  (Thanks Steven and Yury!)</li>
</ol>
</div>
<div class="section" id="id7">
<h3>Pertinent to developers:<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>1. Lots of code clean-up, documentation, test-code, and some
refactoring.</p>
<ol class="arabic" start="2">
<li><p class="first">cb_filestat will only do an os.stat if no plugin handles the
filestat.  Previously, cb_filestat did an os.stat and ran through
all the plugins allowing them to over-ride it.</p>
</li>
<li><p class="first">Added some testing framework pieces.  This requires nose.  To run
the tests, do:</p>
<div class="highlight-python"><pre>nosetests --verbose --include unit
nosetests --verbose --include functional</pre>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="changes-between-1-3-1-and-1-3-2">
<h2>Changes between 1.3.1 and 1.3.2<a class="headerlink" href="#changes-between-1-3-1-and-1-3-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id8">
<h3>Pertinent to users:<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Fixes a security issue where the path_info can come in with
multiple / at the beginning.  Whether this happens or not depends
on the web-server you&#8217;re using and possibly other things.  Some
people have the issue and some don&#8217;t.  If you&#8217;re in doubt, upgrade.
Thanks FX!</li>
</ol>
</div>
</div>
<div class="section" id="changes-between-1-3-and-1-3-1">
<h2>Changes between 1.3 and 1.3.1<a class="headerlink" href="#changes-between-1-3-and-1-3-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id9">
<h3>Pertinent to users:<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>The <tt class="docutils literal"><span class="pre">num_entries</span></tt> property now affects the home page and category
index pages.  It no longer affects archive index pages.</li>
<li>Fixed the RSS 0.9.1 feed templates.  It has the correct link url
and shows the entry bodies.  Thanks Norbert!</li>
<li>The version string is correct.</li>
<li>Added support for <tt class="docutils literal"><span class="pre">$body_escaped</span></tt> .</li>
<li>Fixed the blog encoding on the RSS 2.0 feed so that it uses the
value provided in the config.py <tt class="docutils literal"><span class="pre">$blog_encoding</span></tt> variable.</li>
<li>Fixed the Atom 1.0 story flavour to use <tt class="docutils literal"><span class="pre">$body_escaped</span></tt> instead
of <tt class="docutils literal"><span class="pre">&lt;![CDATA[</span> <span class="pre">$body</span> <span class="pre">]]&gt;</span></tt></li>
<li>Fixed a problem with static rendering where we&#8217;d render
<tt class="docutils literal"><span class="pre">/index.html</span></tt> and <tt class="docutils literal"><span class="pre">//index.html</span></tt> if the user had entries in
their root category.</li>
</ol>
</div>
<div class="section" id="id10">
<h3>Pertinent to developers:<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>If you have plugins that use the logger functions in PyBlosxom 1.2,
you need to update those plugins to use the new logger functions in
PyBlosxom 1.3.  Read through the API for details.</li>
<li>Moved documentation in ReadMeForPlugins.py over to the manual.</li>
</ol>
</div>
</div>
<div class="section" id="changes-between-1-2-and-1-3">
<h2>Changes between 1.2 and 1.3<a class="headerlink" href="#changes-between-1-2-and-1-3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id11">
<h3>Pertinent to users:<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">We added a <tt class="docutils literal"><span class="pre">blog_rights</span></tt> property.  This holds a textual
description of the rights you give to others who read your blog.
Leaving this blank or not filling it in will affect the RSS 2.0 and
Atom 1.0 feeds.</p>
</li>
<li><p class="first">If you set <tt class="docutils literal"><span class="pre">flavourdir``in</span> <span class="pre">your</span> <span class="pre">config.py</span> <span class="pre">file,</span> <span class="pre">you</span> <span class="pre">have</span> <span class="pre">to</span> <span class="pre">put</span>
<span class="pre">your</span> <span class="pre">flavour</span> <span class="pre">files</span> <span class="pre">in</span> <span class="pre">that</span> <span class="pre">directory</span> <span class="pre">tree.</span>&nbsp; <span class="pre">If</span> <span class="pre">you</span> <span class="pre">don't</span> <span class="pre">set</span>
<span class="pre">``flavourdir</span></tt>, then PyBlosxom expects to find your flavour files
in your <tt class="docutils literal"><span class="pre">datadir</span></tt>.</p>
<p>The flavour overhaul is backwards compatible with previous
PyBlosxom versions.  So if you want to upgrade your blog, but don&#8217;t
want to move your flavour files to a new directory, DON&#8217;T set your
<tt class="docutils literal"><span class="pre">flavourdir</span></tt> property.</p>
</li>
<li><p class="first">Moved the content that was in README to CHANGELOG.</p>
</li>
<li><p class="first">You can now organize the directory hierarchy of your blog by date.
For example, you could create a category for each year and put
posts for that year in that year (2003, 2004, 2005, ...).
Previously URLs requesting &#8220;2003&#8221;, &#8220;2004&#8221;, ... would get parsed as
dates and would pull blog entries by mtime and not by category.</p>
</li>
<li><p class="first">Logging works now.  The following configuration properties are
useful for determining whether events in PyBlosxom are logged and
what will get logged:</p>
<ul class="simple">
<li>&#8220;log_file&#8221; - the file that PyBlosxom events will be logged
to&#8211;the web-server MUST be able to write to this file.</li>
<li>&#8220;log_level&#8221; - the level of events to write to the log.  options
are &#8220;critical&#8221;, &#8220;error&#8221;, &#8220;warning&#8221;, &#8220;info&#8221;, and &#8220;debug&#8221;</li>
<li>&#8220;log_filter&#8221; - the list of channels that should have messages
logged.  if you set the log_filter and omit &#8220;root&#8221;, then
app-level messages are not logged.</li>
</ul>
<p>It&#8217;s likely you&#8217;ll want to set log_file and log_level and that&#8217;s
it.  Omit log_file and logging will fall back to stderr which
usually gets logged to your web-server&#8217;s error log.</p>
</li>
</ol>
</div>
<div class="section" id="pertinent-to-developers-and-plugin-developers">
<h3>Pertinent to developers and plugin developers:<a class="headerlink" href="#pertinent-to-developers-and-plugin-developers" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Plugins that used logging in 1.2 need to be changed to use the new
logging utilities in 1.3.  Until that happens, they won&#8217;t work.</li>
</ol>
</div>
</div>
<div class="section" id="changes-between-1-1-and-1-2">
<h2>Changes between 1.1 and 1.2<a class="headerlink" href="#changes-between-1-1-and-1-2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id12">
<h3>Pertinent to users:<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">We added a <tt class="docutils literal"><span class="pre">blog_email</span></tt> item to config.py and changed
<tt class="docutils literal"><span class="pre">blog_author</span></tt> to just the author&#8217;s name.  Examples:</p>
<blockquote>
<p>py[&#8220;blog_email&#8221;] = &#8220;<a class="reference external" href="mailto:joe&#37;&#52;&#48;blah&#46;com">joe<span>&#64;</span>blah<span>&#46;</span>com</a>&#8221;
py[&#8220;blog_author&#8221;] = &#8220;Joe Man&#8221;</p>
</blockquote>
</li>
<li><p class="first">We no longer adjust blog_title from what you set in <tt class="docutils literal"><span class="pre">config.py</span></tt>.
Now we have a <tt class="docutils literal"><span class="pre">blog_title_with_path</span></tt> variable which is in the
data dict which is the <tt class="docutils literal"><span class="pre">blog_title</span></tt> with the path information.
People who want the title of their blog to be the title and not
include the path should use <tt class="docutils literal"><span class="pre">$blog_title</span></tt>.  Folks who want the
old behavior where the path was appended to the title should use
<tt class="docutils literal"><span class="pre">$blog_title_with_path</span></tt> .</p>
</li>
<li><p class="first">We now support WSGI, mod_python, and Twisted in addition to CGI.</p>
</li>
<li><p class="first">Upped our Python requirement to Python 2.2.  If you have an earlier
version than that, you won&#8217;t be able to use PyBlosxom 1.2.</p>
</li>
<li><p class="first">Changed <tt class="docutils literal"><span class="pre">defaultFlavour</span></tt> to <tt class="docutils literal"><span class="pre">default_flavour</span></tt>.  This property
allows you to specify the flavour to use by default if the URI
doesn&#8217;t specify one.  It default to <tt class="docutils literal"><span class="pre">html</span></tt>.</p>
</li>
<li><p class="first">We moved the main PyBlosxom site to
<a class="reference external" href="http://pyblosxom.sourceforge.net/">http://pyblosxom.sourceforge.net/</a> .  There&#8217;s a &#8220;powered by
pyblosxom&#8221; image at
<a class="reference external" href="http://pyblosxom.sourceforge.net/images/pb_pyblosxom.gif">http://pyblosxom.sourceforge.net/images/pb_pyblosxom.gif</a></p>
<p>You should adjust your templates accordingly.</p>
</li>
</ol>
</div>
<div class="section" id="id13">
<h3>Pertinent to developers and plugin developers:<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">We now have a Request and a Response object.  See API documentation
for more details.</p>
</li>
<li><p class="first">Don&#8217;t use os.environ directly&#8211;use the http dict.  For example,
this is bad:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">path_info</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&quot;HTTP_PATHINFO&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>This is what you should be doing:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">http</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">getHttp</span><span class="p">()</span>
<span class="n">path_info</span> <span class="o">=</span> <span class="n">http</span><span class="p">[</span><span class="s">&quot;HTTP_PATHINFO&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>If you use os.environ directly, it&#8217;s likely your plugin won&#8217;t work
with non-CGI installations of PyBlosxom.</p>
</li>
<li><p class="first">We added __iter__, read, readline, readlines, seek, and tell to the
Request object.  All of them access the input stream.  You should
not use sys.stdin directly.</p>
<p>Usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">data</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">data_part</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mf">1024</span><span class="p">)</span>
<span class="n">one_line</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="n">lines</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p class="first">The output stream should be accessed through the PyBlosxom Response
object.  The following methods are implemented in the Response
object: __iter__, close, flush, read, readline, readlines, seek,
tell, write, writelines, setStatus, and addHeader.  You should not
use sys.stdout directly. See the API for more details.</p>
<p>Usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">response</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">getResponse</span><span class="p">()</span>
<span class="n">response</span><span class="o">.</span><span class="n">addHeader</span><span class="p">(</span><span class="s">&#39;Status&#39;</span><span class="p">,</span> <span class="s">&#39;200 Ok&#39;</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">addHeader</span><span class="p">(</span><span class="s">&#39;Content-type&#39;</span><span class="p">,</span> <span class="s">&#39;text/html&#39;</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;Hello World&quot;</span><span class="p">)</span>
<span class="n">response</span><span class="o">.</span><span class="n">writelines</span><span class="p">([</span><span class="s">&quot;list&quot;</span><span class="p">,</span> <span class="s">&quot;of&quot;</span><span class="p">,</span> <span class="s">&quot;data&quot;</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p class="first">Instead of doing:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">form</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">getHttp</span><span class="p">()[</span><span class="s">&quot;form&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>you can now do:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">form</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">getForm</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p class="first">Plugins should not be importing the config module and looking at
the <tt class="docutils literal"><span class="pre">py</span></tt> dict directly.  You should instead use the Request
getConfiguration() method to get the config py dict.</p>
</li>
</ol>
</div>
</div>
<div class="section" id="changes-between-1-0-and-1-1">
<h2>Changes between 1.0 and 1.1<a class="headerlink" href="#changes-between-1-0-and-1-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id14">
<h3>Pertinent to users:<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>We no longer include contributed plugins and flavours.  To find
plugins and flavours, go to the PyBlosxom registry located at
<a class="reference external" href="http://pyblosxom.sourceforge.net/">http://pyblosxom.sourceforge.net/</a> .</li>
<li>We changed how <tt class="docutils literal"><span class="pre">num_entries</span></tt> is handled internally.  If
<tt class="docutils literal"><span class="pre">num_entries</span></tt> is set to 0, the blosxom default file handler will
display all the entries.  If <tt class="docutils literal"><span class="pre">num_entries</span></tt> is set to a positive
number, then the blosxom default file handler will display at most
that many entries.</li>
</ol>
</div>
<div class="section" id="id15">
<h3>Pertinent to developers and plugin developers:<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Plugins that implement cb_filelist are now in charge of adjusting
the number of entries to be displayed based on the <tt class="docutils literal"><span class="pre">num_entries</span></tt>
configuration variable.  This is no longer done in the renderer.</li>
<li>We added HTTP_COOKIE to the list of things that get added to the
http dict in the Request object.</li>
</ol>
</div>
</div>
<div class="section" id="changes-between-0-9-and-1-0">
<h2>Changes between 0.9 and 1.0<a class="headerlink" href="#changes-between-0-9-and-1-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id16">
<h3>Pertinent to users:<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">We ditched <tt class="docutils literal"><span class="pre">blosxom_custom_flavours</span></tt>&#8211;you can remove it from your
<tt class="docutils literal"><span class="pre">config.py</span></tt> file.</p>
</li>
<li><p class="first">We added static rendering&#8211;see the howto in the PyBlosxom manual.</p>
</li>
<li><p class="first">Rewrote comments to use the new handler system.  You should replace
the comments, pingbacks, trackbacks, and other comments-oriented
plugins with the new versions from <tt class="docutils literal"><span class="pre">contrib/plugins/comments/</span></tt>.</p>
</li>
<li><p class="first">pingbacks plugin is now <tt class="docutils literal"><span class="pre">xmlrpc_pingbacks.py</span></tt> .</p>
</li>
<li><p class="first">Adjusted the default templates for HTML and RSS.  Removed all other
default templates.  Look at the flavour_examples directory for
flavour examples.</p>
</li>
<li><p class="first">Added an <tt class="docutils literal"><span class="pre">ignore_properties</span></tt> property to <tt class="docutils literal"><span class="pre">config.py</span></tt> which
allows you to specify which directories in your datadir should be
ignored.  For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">py</span><span class="p">[</span><span class="s">&quot;ignore_directories&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;CVS&quot;</span><span class="p">,</span> <span class="s">&quot;.svn&quot;</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p class="first">Added a template variable <tt class="docutils literal"><span class="pre">pyblosxom_version</span></tt> which points to
<tt class="docutils literal"><span class="pre">pyblosxom/Pyblosxom/pyblosxom.VERSION_DATE</span></tt> .</p>
</li>
<li><p class="first">Fixed some code in pyarchives so it worked with Python 2.1.  Thanks
to Wilhelm.</p>
</li>
<li><p class="first">Fixed template retrieving code so that you can specify templates to
use for a given category or parent categories.  Thanks to Nathan
for fixing this.</p>
</li>
<li><p class="first">We added a <tt class="docutils literal"><span class="pre">logdir</span></tt> property to config.  PyBlosxom (and plugins)
will create logs in this directory so the directory has to have
write access for whatever user the webserver uses to run the
script.</p>
</li>
</ol>
</div>
<div class="section" id="id17">
<h3>Pertinent to developers and plugin developers:<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Rewrote the startup for PyBlosxom request handling&#8211;we ditched the
common_start function and picked up a common initialize function.</li>
<li>Unhardcoded where contrib and web files go when doing a multi-user
installation using <tt class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></tt>.</li>
<li>Adjusted the comments plugin so that if a given entry has a
<tt class="docutils literal"><span class="pre">nocomments</span></tt> property, then it won&#8217;t get comments.</li>
<li>Moved the Request object into <tt class="docutils literal"><span class="pre">pyblosxom/Pyblosxom/pyblosxom.py</span></tt>.</li>
<li>Fixed variable parsing so that if the variable value is a function
that takes arguments, we pass the request in as the first argument.</li>
<li>Added VERSION, VERSION_DATE, and VERSION_SPLIT.  This allows you to
verify that your plugin works with the version of PyBlosxom the
user is using.</li>
</ol>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">Changelog</a><ul>
<li><a class="reference external" href="#changes-between-1-4-3-and-1-5">Changes between 1.4.3 and 1.5</a><ul>
<li><a class="reference external" href="#pertinent-to-users">Pertinent to users:</a></li>
<li><a class="reference external" href="#pertinent-to-developers">Pertinent to developers:</a></li>
</ul>
</li>
<li><a class="reference external" href="#changes-between-1-4-2-and-1-4-3">Changes between 1.4.2 and 1.4.3</a><ul>
<li><a class="reference external" href="#id2">Pertinent to users:</a></li>
<li><a class="reference external" href="#id3">Pertinent to developers:</a></li>
</ul>
</li>
<li><a class="reference external" href="#changes-between-1-4-1-and-1-4-2">Changes between 1.4.1 and 1.4.2</a><ul>
<li><a class="reference external" href="#id4">Pertinent to users:</a></li>
</ul>
</li>
<li><a class="reference external" href="#changes-between-1-4-and-1-4-1">Changes between 1.4 and 1.4.1</a><ul>
<li><a class="reference external" href="#id5">Pertinent to users:</a></li>
</ul>
</li>
<li><a class="reference external" href="#changes-between-1-3-2-and-1-4">Changes between 1.3.2 and 1.4</a><ul>
<li><a class="reference external" href="#id6">Pertinent to users:</a></li>
<li><a class="reference external" href="#id7">Pertinent to developers:</a></li>
</ul>
</li>
<li><a class="reference external" href="#changes-between-1-3-1-and-1-3-2">Changes between 1.3.1 and 1.3.2</a><ul>
<li><a class="reference external" href="#id8">Pertinent to users:</a></li>
</ul>
</li>
<li><a class="reference external" href="#changes-between-1-3-and-1-3-1">Changes between 1.3 and 1.3.1</a><ul>
<li><a class="reference external" href="#id9">Pertinent to users:</a></li>
<li><a class="reference external" href="#id10">Pertinent to developers:</a></li>
</ul>
</li>
<li><a class="reference external" href="#changes-between-1-2-and-1-3">Changes between 1.2 and 1.3</a><ul>
<li><a class="reference external" href="#id11">Pertinent to users:</a></li>
<li><a class="reference external" href="#pertinent-to-developers-and-plugin-developers">Pertinent to developers and plugin developers:</a></li>
</ul>
</li>
<li><a class="reference external" href="#changes-between-1-1-and-1-2">Changes between 1.1 and 1.2</a><ul>
<li><a class="reference external" href="#id12">Pertinent to users:</a></li>
<li><a class="reference external" href="#id13">Pertinent to developers and plugin developers:</a></li>
</ul>
</li>
<li><a class="reference external" href="#changes-between-1-0-and-1-1">Changes between 1.0 and 1.1</a><ul>
<li><a class="reference external" href="#id14">Pertinent to users:</a></li>
<li><a class="reference external" href="#id15">Pertinent to developers and plugin developers:</a></li>
</ul>
</li>
<li><a class="reference external" href="#changes-between-0-9-and-1-0">Changes between 0.9 and 1.0</a><ul>
<li><a class="reference external" href="#id16">Pertinent to users:</a></li>
<li><a class="reference external" href="#id17">Pertinent to developers and plugin developers:</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="../about_pyblosxom.html"
                                  title="previous chapter">About PyBlosxom</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="INSTALL.html"
                                  title="next chapter">Installing PyBlosxom</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/notes/CHANGELOG.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="INSTALL.html" title="Installing PyBlosxom"
             >next</a> |</li>
        <li class="right" >
          <a href="../about_pyblosxom.html" title="About PyBlosxom"
             >previous</a> |</li>
        <li><a href="../index.html">PyBlosxom v1.5 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009, Will Kahn-Greene.
      Last updated on Feb 02, 2010.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.3.
    </div>
  </body>
</html>